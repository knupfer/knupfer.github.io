* Einleitung
#+BEGIN_COMMENT
---
layout: post
title: Emacs Magit
---
#+END_COMMENT
Da ich nun schon seit ein paar Monaten mit Hilfe von Git meine Homepage versioniere und auf Github publiziere, befand ich die Zeit reif dafür, mich genauer mit Git auseinanderzusetzen.

* Git
Git wurde von Linus Torvalds für die Versionierung des Linuxkernels programmiert.
Da die Funktionalität sehr umfangreich ist, erfreute sich Git schnell großer Beliebtheit.

** Funktionsweise
Es wird in dem Repository, also in dem Verzeichnis, in dem man seine Dateien aufbewahrt werden, welche versioniert werden sollen (i.d.R. Quellcode) ein .git Verzeichnis erstellt, welches zunächst einer Kopie aller Dateien entspricht.
Daraufhin werden Änderungen in den Staging-Bereich gebracht: src_shell{git add -A}. 
Sobald man dort alle Änderungen hinzugefügt hat, welche man versionieren möchte, macht man einen Commit, welcher einen Text enthält, welcher beschreibt, welche Änderungen vorgenommen werden: src_shell{git commit -m 'bugfix'}.
Somit ist nun die Änderung gespeichert und kann mit dem vorherigen Stand verglichen werden, neue Änderungen gemacht werden, oder die Änderungen zu einem Remote-Repository übertragen werden: src_shell{git push origin master}.

#+BEGIN_SRC ditaa :file /images/git.png :exports result
 +------------------+ 
 |Arbeitsverzeichnis+<-------+
 +----------------+-+        |
                  |          |
 +---git add------+          |
 |                           |
 |  +-----+                  |
 +->|Stage|-----+            |
    +-----+     |            |
                |            |
 +---git commit-+            |
 |                           |
 |  +----------+             |
 +->|Repository+-+           |
    +----------+ |           |
                 |           |
 +---git push----+           |
 |                           |
 |  +------+                 |
 +->|Remote+--git pull-------+
    +------+
#+END_SRC

#+RESULTS:
[[file:/images/git.png]]

* Magit
Mit Magit kann man auf komfortable Weise diffs, also Vergleiche zwischen zwei Versionen ansehen.
Ferner hat man den Staging-Bereich, und den Bereich der Änderungen, die noch nicht im Staging-Bereich sind im Blick, was den großen Vorteil bietet, dass nur die Änderungen, die eine logische Einheit bilden, in den Staging-Bereich aufgenommen werden können, um die diese zu commiten.
Andere Änderungen werden erst in darauffolgenden Commits mit entsprechender Beschreibung publiziert.

Dies sieht dann Beispielsweise folgendermaßen:
#+BEGIN_SRC html :exports results
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.47 in css mode. -->
<html>
  <head>
    <title>*magit: knupfer.github.io*</title>
    <style type="text/css">
    <!--
      body {
        color: #ffffff;
        background-color: #000000;
      }
      .ATTRLIST {
        /* (:weight ultra-bold :foreground "#05ffff") */
        color: #05ffff;
      }
      .ATTRLIST-1 {
        /* (:weight ultra-bold :foreground "#e07fef") */
        color: #e07fef;
      }
      .ATTRLIST-2 {
        /* (:weight ultra-bold :foreground "#f0cf05") */
        color: #f0cf05;
      }
      .ATTRLIST-3 {
        /* (:weight ultra-bold :foreground "#ee5555") */
        color: #ee5555;
      }
      .ATTRLIST-4 {
        /* (:weight ultra-bold :foreground "#ffffff") */
        color: #ffffff;
      }
      .ATTRLIST-5 {
        /* (:weight ultra-bold :foreground "#00ff00") */
        color: #00ff00;
      }
      .magit-branch {
        /* magit-branch */
        color: #e5e5e5;
        background-color: #333333;
      }
      .magit-item-highlight {
        /* magit-item-highlight */
        background-color: #4a708b;
      }
      .magit-log-message {
      }
      .magit-log-sha1 {
        /* magit-log-sha1 */
        color: #ff6347;
      }
      .magit-section-title {
        /* magit-section-title */
        color: #e5e5e5;
        background-color: #333333;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
Local:    <span class="magit-branch">master</span> ~/git/knupfer.github.io/
Remote:   <span class="magit-branch">master</span> @ origin (https://github.com/knupfer/knupfer.github.io.git)
Head:     <span class="magit-log-sha1">1f236ae</span> Bugfix in Ditaa graphic

<span class="magit-section-title">Untracked files:</span>
    _org/Computer/.#2014-01-24-magit.org

<span class="magit-section-title">Unpushed commits:</span>
<span class="magit-log-sha1">1f236ae</span> <span class="magit-log-message">Bugfix in Ditaa graphic</span>
<span class="magit-log-sha1"><span class="magit-item-highlight">da99ab0</span></span><span class="magit-item-highlight"> </span><span class="magit-log-message"><span class="magit-item-highlight">Correct connections in Ditaa graphic</span></span><span class="magit-item-highlight">
</span><span class="magit-log-sha1">9943f8e</span> <span class="magit-log-message">Clean files with *~</span>

</pre>
  </body>
</html>
#+END_SRC
